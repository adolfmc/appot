package cn.licoy.wdog.core.controller.appot;import cn.licoy.wdog.common.annotation.SysLogs;import cn.licoy.wdog.common.bean.ResponseCode;import cn.licoy.wdog.common.bean.ResponseResult;import cn.licoy.wdog.common.controller.AppotBaseController;import cn.licoy.wdog.core.dto.appot.SuggestAddDTO;import cn.licoy.wdog.core.entity.appot.Suggest;import cn.licoy.wdog.core.service.appot.SuggestService;import io.swagger.annotations.Api;import com.alibaba.fastjson.JSONObject;import io.swagger.annotations.ApiOperation;import io.swagger.annotations.ApiParam;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.validation.annotation.Validated;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.Date;import java.util.List;/** * @author mc * @version Tue Dec 15 23:29:47 2020 */@RestControllerpublic class SuggestController  extends AppotBaseController {   @Autowired   private SuggestService service;   public SuggestService getService() {      return service;   }   @RequestMapping(value = {"/saveSuggest"})   public ResponseResult saveSuggest(Suggest suggest){      suggest.setCreateDate(new Date());      service.insertOrUpdate(suggest) ;   return ResponseResult.e(ResponseCode.OK,suggest);   }   @RequestMapping(value = {"/getSuggestsByMobile"})   public ResponseResult getSuggestsByMobile(String mobile){      List<Suggest> suggestList = service.getSuggestsByMobile(mobile);      for(Suggest suggest:suggestList){            if( "0".equals(suggest.getIsRead())){               suggest.setIsRead("1");               service.insertOrUpdateAllColumn(suggest);            }      }      return ResponseResult.e(ResponseCode.OK,suggestList);   }}